<aiml version="2.0"><category><pattern>ISELL</pattern> <template><think><set name="t"><getsb name="givestring" map="default"/></set></think> <condition name="t"><li value="none"><random><li>I don't sell anything</li> <li>I sell nothing</li> </random></li> <li>I sell <getsb name="givestring" map="default"/> </li> </condition> </template> </category> <category><pattern>IBUY</pattern> <template><think><set name="t"><getsb name="takestring" map="default"/></set></think> <condition name="t"><li value="none"><random><li>I don't buy anything</li> <li>I buy nothing</li> </random></li> <li>I buy <getsb name="takestring" map="default"/> </li> </condition> </template> </category> <category><pattern>EXCH</pattern> <template><think><set name="t"><getsb name="exchange" map="default"/></set></think> <condition name="t"><li value="none"></li> <li><random><li>my medium of exchange is</li> <li>as cash I use</li> <li>instead of cash I use</li> <li>I accept payment in</li> </random> <getsb name="exchange" map="default"/> </li> </condition> </template> </category> <category><pattern>WHAT * SELL</pattern> <template><clean opts="s"><srai>ISELL</srai></clean></template> </category> <category><pattern>WHAT * BUY</pattern> <template><clean opts="s"><srai>IBUY</srai></clean></template> </category> <category><pattern>UNKNOWN</pattern> <template><clean opts="s"><sentence><srai>ISELL</srai></sentence> . <sentence><srai>IBUY</srai></sentence> . <sentence><srai>EXCH</srai></sentence> . </clean></template> </category> <category><pattern>COST *</pattern> <template><clean opts="s"><think><set name="t"><getsb map="give"><name><lowercase><matname><star/></matname></lowercase></name></getsb></set></think> <condition name="t"><li value="unknown"><randsbset set="dontsell"/></li> <li><randsbset set="willcost"/> <get name="t"/> <getsb name="exchange" map="default"/> . </li> </condition> </clean></template> </category> <category><pattern>COST</pattern> <template>Cost of what?</template> </category> <category><pattern>*</pattern> <template><clean opts="s"><think><set name="t"><lowercase><matname><star/></matname></lowercase></set></think> <condition name="t"><li value="unknown"><srai>UNKNOWN</srai></li> <li><think><set name="p"><getsb map="give"><name><get name="t"/></name></getsb></set></think> <condition name="p"><li value="unknown"><think><set name="p"><getsb map="take"><name><get name="t"/></name></getsb></set></think> <condition name="p"><li value="unknown"><randsbset set="randomitem"/></li> <li>I buy those for <get name="p"/> <getsb name="exchange" map="default"/> . </li> </condition> </li> <li>I sell those for <get name="p"/> <getsb name="exchange" map="default"/> . </li> </condition> </li> </condition> </clean></template> </category> <category><pattern>RIGHTCLICK</pattern> <template><clean opts="s"><think><set name="t"><getpl name="itemheld"/></set></think> <condition name="t"><li value="AIR"><randsbset set="noitem"/></li> <li><value><uppercase><getsb name="exchange" map="default"/></uppercase></value> <condition name="curbuyitem"><li value="unknown">But what would you like to buy? <think><set name="topic">setbuy</set></think> </li> <li><think><set name="t"><take><item><uppercase><getsb name="exchange" map="default"/></uppercase></item> <count><getsb map="give"><name><lowercase><getpl name="curbuyitem"/></lowercase></name> </getsb></count> </take></set></think> <condition name="t"><li value="notenough"><randsbset set="notenough"/></li> <li value="yes"><think><give><item><uppercase><getpl name="curbuyitem"/></uppercase></item> <count>1</count> </give></think> <randsbset set="thanks"/> </li> <li value="wrong"><randsbset set="wrong"/></li> <li>WTF? Something weird has happened</li> </condition> </li> </condition> </li> <li><think><set name="q"><getsb map="take"><name><lowercase><get name="t"/></lowercase></name> </getsb></set></think> <condition name="q"><li value="unknown">I can't buy that. I only buy <getsb name="takestring" map="default"/> . My exchange item is  <lowercase><getsb name="exchange" map="default"/></lowercase> by the way. </li> <li><think><set name="t"><take><item><lowercase><get name="t"/></lowercase></item> <count><get name="q"/></count> </take></set></think> <condition name="t"><li value="notenough"><randsbset set="notenough"/></li> <li value="yes"><think><give><item><uppercase><getsb name="exchange" map="default"/></uppercase></item> <count>1</count> </give></think> <randsbset set="thanks"/> </li> <li value="wrong"><randsbset set="wrong"/></li> <li>WTF? Something weird has happened</li> </condition> </li> </condition> </li> </condition> </clean></template> </category> <category><pattern>BUY *</pattern> <template><think><set name="thing"><lowercase><matname><star/></matname></lowercase></set></think> <think><set name="t"><getsb map="give"><name><get name="thing"/></name> </getsb></set></think> <condition name="t"><li value="unknown"><randsbset set="dontsell"/></li> <li><think><setpl name="curbuyitem"><get name="thing"/></setpl></think> OK, you're buying <get name="thing"/> and the cost is <get name="t"/> <getsb name="exchange" map="default"/> . When you've got enough, just say "Forget it" or "Buy something else." </li> </condition> </template> </category> <category><pattern>* BUY *</pattern> <template><srai>BUY <star index="2"/> </srai></template> </category> <topic name="setbuy"><category><pattern>*</pattern> <template><think><set name="topic">*</set></think> <srai>BUY <star/> </srai> </template> </category> </topic> <category><pattern>FORGET *</pattern> <template><think><setpl name="curbuyitem">unknown</setpl></think> <randsbset set="agreement"/> </template> </category> <category><pattern>BUY * ELSE</pattern> <template><srai>FORGET</srai></template> </category> </aiml>
